(function($){let prvState={top:null,body:null,checkData:[],paragraph:[],checkboxTot:0,checkboxSel:0};let availableMethods={init:init,getData:getData,hasData:hasData,addData:addData,removeData:removeData,checkAll:checkAll,getCountSel:getCountSel,getCountTot:getCountTot};$.fn.dropdownCheckbox=function(chosenMethod){if(typeof chosenMethod==="string"&&availableMethods[chosenMethod]){return availableMethods[chosenMethod].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof chosenMethod==="object"||!chosenMethod){return availableMethods.init.apply(this,arguments)}else{$.error("Method "+chosenMethod+" does not exist on jQuery.dropdownCheckbox")}};function init(opt={}){opt={classLike:false,...opt};prvState.top=$(this).find(".dropdown-select-top");prvState.body=$(this).find(".dropdown-select-body");prvState.top.on("click",()=>prvState.body.slideToggle("fast"));prvState.checkboxTot=prvState.body.find("input[type='checkbox']").length;prvState.body.find("input[type='checkbox']").on("click",propValue);let ref={...this,...availableMethods};return opt.classLike?ref:$(this)}function getData(){return prvState.checkData}function hasData(data){return prvState.checkData.includes(data.toString())}function getCountSel(){return prvState.checkboxSel}function getCountTot(){return prvState.checkboxTot}function addData(arrData){arrData.forEach(data=>{let paragText=$(prvState.body).find(`input[value='${data}']`).closest("li").text();pushData(data.toString(),paragText,true)})}function checkAll(){$(prvState.body).find(`input`).each(function(){let data=$(this).val();let paragText=$(this).closest("li").text();pushData(data.toString(),paragText,true)})}function removeData(arrData=[]){if(arrData.length!==0){arrData.forEach(data=>{let paragText=$(prvState.body).find(`input[value='${data}']`).closest("li").text();popData(data.toString(),paragText,true)})}else{prvState.checkData.splice(0,prvState.checkData.length);prvState.paragraph.splice(0,prvState.paragraph.length);$(prvState.body).find(`input`).prop("checked",false);showHideParagraph()}}function propValue(){let data=$(this).val();let textParag=$(this).closest("li").text();if($(this).is(":checked"))pushData(data,textParag);else popData(data,textParag)}function pushData(data,textParag,prop=false){if(prvState.checkData.includes(data))return;if(prop)$(prvState.body).find(`input[value='${data}']`).prop("checked",true);prvState.checkData.push(data);prvState.paragraph.push(textParag);prvState.checkboxSel++;showHideParagraph()}function popData(data,textParag,prop=false){if(!prvState.checkData.includes(data))return;if(prop)$(prvState.body).find(`input[value='${data}']`).prop("checked",false);prvState.checkData.splice(prvState.checkData.indexOf(data),1);prvState.paragraph.splice(prvState.paragraph.indexOf(textParag),1);prvState.checkboxSel--;showHideParagraph()}function showHideParagraph(){$(prvState.top).find("p.dropdown-checkbox-selected").text(prvState.paragraph.join(", "));if(prvState.paragraph.length===0){$(prvState.top).find(".dropdown-hide-on-select").show();$(prvState.top).find(".dropdown-checkbox-selected").hide()}else{$(prvState.top).find(".dropdown-hide-on-select").hide();$(prvState.top).find(".dropdown-checkbox-selected").show()}}})(jQuery);